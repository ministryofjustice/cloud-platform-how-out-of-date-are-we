<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="../static/stylesheet/stylesheet.css">
</head>
<body>
  <div class="container-fluid">
    <h2 class="page_heading card">{{.Namespace}}</h2>
    <div class="row mb-3">
      <div class="col-auto">
        <div class="card">
          <div class="card-body">
            <b>Last Updated: </b>
            {{.LastUpdated}}
          </div>
        </div>
      </div>
    </div>
    <!-- Namespace Tags -->
    <div class="row-mb-3">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
              {{ if .Tags }}
              <table class="table" style="height: 250px;">
                <tbody>
                  <tr>
                    <th class="text-right" scope="row">Application:</th>
                    <td class="text-right">{{ .Tags.Application }}</td>
                  </tr>
                  <tr>
                    <th class="text-right" scope="row">Business Unit:</th>
                    <td class="text-right">{{ .Tags.BusinessUnit }}</td>
                  </tr>
                  <tr>
                    <th class="text-right" scope="row">Team:</th>
                    <td class="text-right">{{ .Tags.TeamName }}</td>
                  </tr>
                  <tr>
                    <th class="text-right" scope="row">Slack Channel:</th>
                    <td class="text-right">{{ .Tags.SlackChannel }}</td>
                  </tr>
                  <tr>
                    <th class="text-right" scope="row">Source Code:</th>
                    <td class="text-right">{{ .Tags.SourceCode }}</td>
                  </tr>
                  <tr>
                    <th class="text-right" scope="row">Domain Names:</th>
                    <td class="text-right">{{- range $key, $value := .Tags.DomainNames }}
                      {{ $value}}<br>
                      {{- end }}
                    </td>
                  </tr>
                </tbody>
              </table>
              {{- end }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Naemsapce cost breakdown -->
    <div class="row" style="margin-top: 20px; margin-left: auto; margin-right: auto;">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            {{ if . }}
            <h5 class="card-title">Costs: {{ .Namespace }}</h5>
            <table class="table" style="height: 450px;">
              <thead>
                <tr>
                  <th class="text-right" scope="col">Resource</th>
                  <th class="text-right" scope="col">Monthly Cost ($)</th>
                </tr>
              </thead>
              {{- range $key, $value := .Breakdown }}
              <tbody>
                  <tr>
                    <td>{{ $key }}:</td>
                    <td class="text-right">{{ $value }}</td>
                  </tr>
              </tbody>
              {{- end }}
              <tfoot>
                <tr>
                  <th class="text-right" scope="col">Total</th>
                  <th class="text-right" scope="col">{{ .Total }}</th>
                </tr>
              </tfoot>
            </table>
            {{- end }}
          </div>
        </div>
      </div>
      <!-- Namespace usage -->
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            {{ if . }}
          <h5 class="card-title">Namespace Usage: {{ .Name }}</h5>
          <ul class="list-group list-group-flush">
             <li class="list-group-item">
              <h5>CPU (millicores)</h5>
                Requested: {{ .CPU.Requested }}<br>
                Used: {{ .CPU.Used }}<br>
                Hard Limits: {{ .CPU.HardLimits }}<br>
            </li>
            <li class="list-group-item">
              <h5>Memory (mebibytes)</h5>
                Requested: {{ .Memory.Requested }}<br>
                Used: {{ .Memory.Used }}<br>
                Hard Limits: {{ .Memory.HardLimits }}<br>
            </li>
            <li class="list-group-item">
                <h5>Pods</h5>
                Requested: {{ .Pods.Requested }}<br>
                Used: {{ .Pods.Used }}<br>
                Hard Limits: {{ .Pods.HardLimits }}<br>
            </li>
             <li class="list-group-item">
              <h5>Containers: {{ .ContainerCount }}</h5>
            </li>
          </ul>
          {{- end }}
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.4.4/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
  <script src="../static/assets/js/nav-bar.js"></script>
</body>
</html>